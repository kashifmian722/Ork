{% sw_extends '@Storefront/storefront/layout/footer/footer.html.twig' %}

{% block layout_footer_inner_container %}
    {% block layout_footer_navigation %}
        <div class="container">
            <div id="footerColumns"
                 class="row footer-columns{% if zentheme['zen-footer-col-headline-font-align'] is same as ('center') and zentheme['zen-footer-col-font-align'] is same as ('center') %} justify-content-center{% endif %}"
                 data-collapse-footer="true">

                {% block layout_footer_navigation_logo %}
                    {% if zentheme['zen-footer-logo-position'] is same as ('column') %}
                        <div class="{{ zentheme['zen-footer-logo-col'] }} {{ zentheme['zen-footer-logo-col-xl'] }} order-{{ zentheme['zen-footer-logo-order'] }} footer-column footer-logo-column">
                            {% sw_include '@Storefront/storefront/component/footer/zen-footer-logo.html.twig' %}
                        </div>
                    {% endif %}
                {% endblock %}

                {% block layout_footer_navigation_newsletter %}
                    {% if zentheme['zen-footer-newsletter-position'] is same as ('column') %}
                        <div class="{{ zentheme['zen-footer-newsletter-col'] }} {{ zentheme['zen-footer-newsletter-col-xl'] }} order-{{ zentheme['zen-footer-newsletter-order'] }} footer-column js-footer-column footer-newsletter-column">
                            {# footer logo #}
                            {% if zentheme['zen-footer-logo-position'] is same as ('newsletter') %}
                                {% set newsletterHiddenClass = 'd-md-none' %}
                            {% endif %}

                            {% block layout_footer_navigation_newsletter_headline_logo %}
                                {# footer logo #}
                                {% if zentheme['zen-footer-logo-position'] is same as ('newsletter') %}
                                    <div class="footer-column-headline footer-headline footer-logo">
                                        {% sw_include '@Storefront/storefront/component/footer/zen-footer-logo.html.twig' %}
                                    </div>
                                {% endif %}
                            {% endblock %}

                            {# showClass #}
                            {% if zentheme['zen-footer-newsletter-collapse-state'] %}
                                {% set newsletterShowClass = 'show' %}
                            {% endif %}

                            {% block layout_footer_navigation_newsletter_headline %}
                                <div class="{{ newsletterHiddenClass }} footer-column-headline footer-headline js-footer-column-headline js-collapse-footer-column-trigger {{ newsletterShowClass }}"
                                     id="collapseFooterNewsletterTitle"
                                     data-target="#collapseFooterNewsletter"
                                     aria-expanded="true"
                                     aria-controls="collapseFooterNewsletter">
                                    {{ 'zentheme.footer.newsletterHeadline'|trans|sw_sanitize }}
                                    {% block layout_footer_navigation_newsletter_icons %}
                                        <div class="footer-column-toggle">
                                            <span class="footer-plus-icon">
                                                {% sw_icon 'plus' %}
                                            </span>
                                                <span class="footer-minus-icon">
                                                {% sw_icon 'minus' %}
                                            </span>
                                        </div>
                                    {% endblock %}
                                </div>
                            {% endblock %}

                            {% block layout_footer_navigation_newsletter_content %}
                                <div id="collapseFooterNewsletter"
                                     class="footer-column-content collapse js-footer-column-content footer-contact {{ newsletterShowClass }}"
                                     aria-labelledby="collapseFooterNewsletterTitle">
                                    <div class="footer-column-content-inner">
                                        {% sw_include '@Storefront/storefront/component/footer/zen-footer-newsletter.html.twig' %}
                                    </div>
                                </div>
                            {% endblock %}

                        </div>
                    {% endif %}
                {% endblock %}

                {% block layout_footer_navigation_social %}
                    {% if zentheme['zen-footer-social-position'] is same as ('column') %}
                        <div class="{{ zentheme['zen-footer-social-col'] }} {{ zentheme['zen-footer-social-col-xl'] }} order-{{ zentheme['zen-footer-social-order'] }} footer-column js-footer-column footer-social-column">
                            {# footer logo #}
                            {% if zentheme['zen-footer-logo-position'] is same as ('social') %}
                                {% set socialHiddenClass = 'd-md-none' %}
                            {% endif %}

                            {% block layout_footer_navigation_social_headline_logo %}
                                {# footer logo #}
                                {% if zentheme['zen-footer-logo-position'] is same as ('social') %}
                                    <div class="footer-column-headline footer-headline footer-logo">
                                        {% sw_include '@Storefront/storefront/component/footer/zen-footer-logo.html.twig' %}
                                    </div>
                                {% endif %}
                            {% endblock %}

                            {# showClass #}
                            {% if zentheme['zen-footer-social-collapse-state'] %}
                                {% set socialShowClass = 'show' %}
                            {% endif %}

                            {% block layout_footer_navigation_social_headline %}
                                <div class="{{ socialHiddenClass }} footer-column-headline footer-headline js-footer-column-headline js-collapse-footer-column-trigger {{ socialShowClass }}"
                                     id="collapseFooterSocialTitle"
                                     data-target="#collapseFooterSocial"
                                     aria-expanded="true"
                                     aria-controls="collapseFooterSocial">
                                    {{ 'zentheme.footer.socialMediaHeadline'|trans|sw_sanitize }}
                                    {% block layout_footer_navigation_social_icons %}
                                        <div class="footer-column-toggle">
                                        <span class="footer-plus-icon">
                                            {% sw_icon 'plus' %}
                                        </span>
                                            <span class="footer-minus-icon">
                                            {% sw_icon 'minus' %}
                                        </span>
                                        </div>
                                    {% endblock %}
                                </div>
                            {% endblock %}

                            {% block layout_footer_navigation_social_content %}
                                <div id="collapseFooterSocial"
                                     class="footer-column-content collapse js-footer-column-content footer-contact {{ socialShowClass }}"
                                     aria-labelledby="collapseFooterSocialTitle">
                                    <div class="footer-column-content-inner">
                                        {% sw_include '@Storefront/storefront/component/footer/zen-footer-social.html.twig' %}
                                    </div>
                                </div>
                            {% endblock %}
                        </div>
                    {% endif %}
                {% endblock %}

                {% block layout_footer_navigation_custom %}
                    {% if zenconfig.customColumnActive and zenconfig.customColumnTitle and zenconfig.customColumnText%}
                        <div class="{{ zentheme['zen-footer-custom-col'] }} {{ zentheme['zen-footer-custom-col-xl'] }} order-{{ zentheme['zen-footer-custom-order'] }} footer-column js-footer-column footer-custom-column">

                            {# showClass #}
                            {% if zentheme['zen-footer-custom-collapse-state'] %}
                                {% set customShowClass = 'show' %}
                            {% endif %}

                            {% block layout_footer_navigation_custom_headline %}
                                <div class="footer-column-headline footer-headline js-footer-column-headline js-collapse-footer-column-trigger {{ customShowClass }}"
                                     id="collapseFooterCustomTitle"
                                     data-target="#collapseFooterCustom"
                                     aria-expanded="true"
                                     aria-controls="collapseFooterCustom">
                                    {{ zenconfig.customColumnTitle }}
                                    {% block layout_footer_navigation_custom_icons %}
                                        <div class="footer-column-toggle">
                                        <span class="footer-plus-icon">
                                            {% sw_icon 'plus' %}
                                        </span>
                                            <span class="footer-minus-icon">
                                            {% sw_icon 'minus' %}
                                        </span>
                                        </div>
                                    {% endblock %}
                                </div>
                            {% endblock %}

                            {% block layout_footer_navigation_custom_content %}
                                <div id="collapseFooterCustom"
                                     class="footer-column-content collapse js-footer-column-content footer-contact {{ customShowClass }}"
                                     aria-labelledby="collapseFooterCustomTitle">
                                    <div class="footer-column-content-inner">
                                        {{ zenconfig.customColumnText|raw }}
                                    </div>
                                </div>
                            {% endblock %}
                        </div>
                    {% endif %}
                {% endblock %}

                {% block layout_footer_navigation_hotline %}
                    {% if zentheme['zen-footer-hotline-position'] is same as ('column') %}
                        <div class="{{ zentheme['zen-footer-hotline-col'] }} {{ zentheme['zen-footer-hotline-col-xl'] }} order-{{ zentheme['zen-footer-hotline-order'] }} footer-column js-footer-column footer-hotline-column">
                            {# footer logo #}
                            {% if zentheme['zen-footer-logo-position'] is same as ('hotline') %}
                                {% set hotlineHiddenClass = 'd-md-none' %}
                            {% endif %}

                            {% block layout_footer_navigation_hotline_headline_logo %}
                                {# footer logo #}
                                {% if zentheme['zen-footer-logo-position'] is same as ('hotline') %}
                                    <div class="footer-column-headline footer-headline footer-logo">
                                        {% sw_include '@Storefront/storefront/component/footer/zen-footer-logo.html.twig' %}
                                    </div>
                                {% endif %}
                            {% endblock %}

                            {# showClass #}
                            {% if zentheme['zen-footer-hotline-collapse-state'] %}
                                {% set hotlineShowClass = 'show' %}
                            {% endif %}

                            {% block layout_footer_navigation_hotline_headline %}
                                <div class="{{ hotlineHiddenClass }} footer-column-headline footer-headline js-footer-column-headline js-collapse-footer-column-trigger {{ hotlineShowClass }}"
                                     id="collapseFooterHotlineTitle"
                                     data-target="#collapseFooterHotline"
                                     aria-expanded="true"
                                     aria-controls="collapseFooterHotline">
                                    {{ 'footer.serviceHotlineHeadline'|trans|sw_sanitize }}
                                    {% block layout_footer_navigation_hotline_icons %}
                                        <div class="footer-column-toggle">
                                            <span class="footer-plus-icon">
                                                {% sw_icon 'plus' %}
                                            </span>
                                            <span class="footer-minus-icon">
                                                {% sw_icon 'minus' %}
                                            </span>
                                        </div>
                                    {% endblock %}
                                </div>
                            {% endblock %}

                            {% block layout_footer_navigation_hotline_content %}
                                <div id="collapseFooterHotline"
                                     class="footer-column-content collapse js-footer-column-content footer-contact {{ hotlineShowClass }}"
                                     aria-labelledby="collapseFooterHotlineTitle">
                                    <div class="footer-column-content-inner">
                                        <p class="footer-contact-hotline">
                                            {{ 'footer.serviceHotline'|trans|sw_sanitize }}
                                        </p>
                                    </div>
                                    <div class="footer-contact-form">
                                        {{ 'footer.serviceContactLink'|trans({
                                            '%url%': path('frontend.cms.page', { id: shopware.config.core.basicInformation.contactPage })
                                        })|raw }}
                                    </div>
                                </div>
                            {% endblock %}
                        </div>
                    {% endif %}
                {% endblock %}

                {% block layout_footer_navigation_columns %}
                    {% for root in page.footer.navigation.tree %}
                        {% block layout_footer_navigation_column %}
                            <div class="{{ zentheme['zen-footer-navigation-col'] }} {{ zentheme['zen-footer-navigation-col-xl'] }} order-{{ zentheme['zen-footer-navigation-order'] }} footer-column js-footer-column">

                                {# showClass #}
                                {% if zentheme['zen-footer-navigation-collapse-state'] %}
                                    {% set navigationShowClass = 'show' %}
                                {% endif %}

                                {% block layout_footer_navigation_information_headline %}
                                    <div class="footer-column-headline footer-headline js-collapse-footer-column-trigger {{ navigationShowClass }}"
                                         id="collapseFooterTitle{{ loop.index }}"
                                         data-target="#collapseFooter{{ loop.index }}"
                                         aria-expanded="true"
                                         aria-controls="collapseFooter{{ loop.index }}">

                                        {{ root.category.translated.name }}
                                        {% block layout_footer_navigation_information_icons %}
                                            <div class="footer-column-toggle">
                                                <span class="footer-plus-icon">
                                                    {% sw_icon 'plus' %}
                                                </span>
                                                <span class="footer-minus-icon">
                                                    {% sw_icon 'minus' %}
                                                </span>
                                            </div>
                                        {% endblock %}
                                    </div>
                                {% endblock %}

                                {% block layout_footer_navigation_information_content %}
                                    <div id="collapseFooter{{ loop.index }}"
                                         class="footer-column-content collapse js-footer-column-content {{ navigationShowClass }}"
                                         aria-labelledby="collapseFooterTitle{{ loop.index }}">
                                        <div class="footer-column-content-inner">
                                            {% block layout_footer_navigation_information_links %}
                                                <ul class="list-unstyled">
                                                    {% for treeItem in root.children %}
                                                        {% set category = treeItem.category %}
                                                        {% set name = category.translated.name %}
                                                        {% set externalLink = category.translated.externalLink %}
                                                        {% block layout_footer_navigation_information_link_item %}
                                                            <li class="footer-link-item">
                                                                {% block layout_footer_navigation_information_link %}
                                                                    <a class="footer-link"
                                                                       href="{% if externalLink %}{{ externalLink }}{% else %}{{ seoUrl('frontend.navigation.page', { navigationId: category.id }) }}{% endif %}"
                                                                       title="{{ name }}">
                                                                        {{ name }}
                                                                    </a>
                                                                {% endblock %}
                                                            </li>
                                                        {% endblock %}
                                                    {% endfor %}
                                                </ul>
                                            {% endblock %}
                                        </div>
                                    </div>
                                {% endblock %}
                            </div>
                        {% endblock %}
                    {% endfor %}
                {% endblock %}
            </div>
        </div>
    {% endblock %}



    {% block layout_footer_bottom %}
        <div class="footer-bottom">
            <div class="container">
                {% block layout_footer_payment_shipping_logos %}
                    <div class="footer-logos">
                            {% block layout_footer_payment_logos %}
                                {% for paymentMethod in page.salesChannelPaymentMethods %}
                                    {% block layout_footer_payment_logo %}
                                        {% if paymentMethod.media %}
                                            <div class="footer-logo is-payment">
                                                {% sw_thumbnails 'footer-payment-image-thumbnails' with {
                                                    media: paymentMethod.media,
                                                    sizes: {
                                                        'default': '100px'
                                                    },
                                                    attributes: {
                                                        'class': 'img-fluid footer-logo-image',
                                                        'alt': (paymentMethod.media.translated.alt ?: paymentMethod.translated.name),
                                                        'title': (paymentMethod.media.translated.title ?: paymentMethod.translated.name)
                                                    }
                                                } %}
                                            </div>
                                        {% endif %}
                                    {% endblock %}
                                {% endfor %}
                            {% endblock %}

                            {% block layout_footer_shipping_logos %}
                                {% for shippingMethod in page.salesChannelShippingMethods %}
                                    {% block layout_footer_shipping_logo %}
                                        {% if shippingMethod.media %}
                                            <div class="footer-logo is-shipping">
                                                {% sw_thumbnails 'footer-shipping-image-thumbnails' with {
                                                    media: shippingMethod.media,
                                                    sizes: {
                                                        'default': '100px'
                                                    },
                                                    attributes: {
                                                        'class': 'img-fluid footer-logo-image',
                                                        'alt': (shippingMethod.media.translated.alt ?: shippingMethod.translated.name),
                                                        'title': (shippingMethod.media.translated.title ?: shippingMethod.translated.name)
                                                    }
                                                } %}
                                            </div>
                                        {% endif %}
                                    {% endblock %}
                                {% endfor %}
                            {% endblock %}
                        </div>
                {% endblock %}

                {# Social Media Icons #}
                {% block layout_footer_social_media_logos %}
                    {% if zentheme['zen-footer-social-position'] is same as ('bottom') %}
                        {% sw_include '@Storefront/storefront/component/footer/zen-footer-social.html.twig' %}
                    {% endif %}
                {% endblock %}

                {% block layout_footer_vat %}
                    <div class="footer-vat">
                        {% if context.taxState == "gross" %}
                            <p>{{ "footer.includeVat"|trans|sw_sanitize }}</p>
                        {% else %}
                            <p>{{ "footer.excludeVat"|trans|sw_sanitize }}</p>
                        {% endif %}
                    </div>
                {% endblock %}

                {% block layout_footer_service_menu %}
                    {% block layout_footer_service_menu_content %}
                        <ul class="footer-service-menu-list list-unstyled">
                            {% for serviceMenuItem in page.header.serviceMenu %}
                                {% block layout_footer_service_menu_item %}
                                    <li class="footer-service-menu-item">
                                        <a class="footer-service-menu-link"
                                           href="{% if serviceMenuItem.externalLink %}{{ serviceMenuItem.externalLink }}{% else %}{{ seoUrl('frontend.navigation.page', { navigationId: serviceMenuItem.id }) }}{% endif %}"
                                           title="{{ serviceMenuItem.translated.name }}">
                                            {{ serviceMenuItem.translated.name }}
                                        </a>
                                    </li>
                                {% endblock %}
                            {% endfor %}
                        </ul>
                    {% endblock %}
                {% endblock %}

                {% block layout_footer_copyright %}
                    <div class="footer-copyright">
                        {{ 'zentheme.general.copyright'|trans({
                            '%shopname%': shopware.config.core.basicInformation.shopName,
                            '%love%': '<span class="icon icon-heart icon-xs"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M16 29.104l-1.938-1.75c-6.875-6.25-11.375-10.313-11.375-15.375 0-4.125 3.188-7.313 7.313-7.313 2.313 0 4.563 1.125 6 2.813 1.438-1.688 3.688-2.813 6-2.813 4.125 0 7.313 3.188 7.313 7.313 0 5.063-4.5 9.188-11.375 15.438z"></path></svg></span>',
                            '%href%': 'https://themes.zenit.design',
                            '%title%': 'Made with love by Zenit Design',
                            '%name%': 'Zenit Design'
                        })|raw }}
                    </div>
                {% endblock %}
            </div>
        </div>
    {% endblock %}
{% endblock %}
